<ul class="nav navbar-nav navbar-right">
<li class="nav-item dropdown" *ngIf="user === null" ngbDropdown #loginDropdown="ngbDropdown">
  <a href="#" ngbDropdownToggle class="nav-link dropdown-toggle" data-toggle="dropdown">Logga in <span class="caret"></span></a>
  <ul id="login-dp" class="dropdown-menu" ngbDropdownMenu>
    <li>
      <div class="row" (click)="$event.stopPropagation(); loginDropdown.open();">
        <div class="col col-lg-12">
          <form #loginForm="ngForm" (ngSubmit)="login()">
            <div class="form-group">
              <input type="text" placeholder="användarnamn" [(ngModel)]="username" name="username" class="form-control" required />
            </div>
            <div class="form-group">
              <input type="password" placeholder="lösenord" [(ngModel)]="password" name="password" class="form-control" required />
            </div>
            <div class="form-group">
              <button type="submit" class="btn btn-primary" [disabled]="!loginForm.form.valid">Logga in</button>
            </div>
          </form>
        </div>
      </div>
    </li>
  </ul>
</li>
<li class="nav-item dropdown" *ngIf="user != null" ngbDropdown #loginDropdown="ngbDropdown">
    <a href="#" ngbDropdownToggle class="nav-link dropdown-toggle" data-toggle="dropdown">{{user.username}}</a>
    <ul id="login-dp" class="dropdown-menu" ngbDropdownMenu>
      <li>
        <div class="row" (click)="$event.stopPropagation(); loginDropdown.open();">
          <div class="col col-lg-12">
            <form #loginForm="ngForm" (ngSubmit)="login()">
              <div class="form-group">
                <input type="text" placeholder="användarnamn" [(ngModel)]="username" name="username" class="form-control" required />
              </div>
              <div class="form-group">
                <input type="password" placeholder="lösenord" [(ngModel)]="password" name="password" class="form-control" required />
              </div>
              <div class="form-group">
                <button type="submit" class="btn btn-primary" [disabled]="!loginForm.form.valid">Logga in</button>
              </div>
            </form>
            <a routerLink="/register" (click)="loginDropdown.close();">Registrera</a>
          </div>
        </div>
      </li>
    </ul>
  </li>
</ul>